# Проєктування гри PacMan: діаграми діяльності та класів

## Діаграма діяльності (Activity Diagram)

```
+---------------------+
| Початок гри         |
+---------------------+
          |
          v
+---------------------+
| Ініціалізація гри:  |
| - Завантаження рівня|
| - Створення PacMan  |
| - Створення привидів|
+---------------------+
          |
          v
+---------------------+
| Основний ігровий цикл|
+---------------------+
          |
          +-------------------+
          |                   |
          v                   v
+---------------------+ +---------------------+
| Обробка вводу       | | Оновлення стану гри:|
| - Клавіші управління| | - Рух PacMan        |
+---------------------+ | - Рух привидів      |
          |             | - Перевірка зіткнень|
          |             +---------------------+
          |                       |
          |                       v
          |             +---------------------+
          |             | Перевірка умов:     |
          |             | - Зібрані всі крапки|
          |             | - Зіткнення з привидом|
          +-------------+---------------------+
                                  |
          +-----------------------+-----------------------+
          |                                               |
          v                                               v
+---------------------+                         +---------------------+
| Перехід на новий    |                         | Перевірка життів:   |
| рівень              |                         | - Життя > 0         |
+---------------------+                         +---------------------+
          |                                               |
          |                                               v
          |                                 +---------------------+
          |                                 | Кінець гри          |
          |                                 +---------------------+
          |                                               |
          +-----------------------+-----------------------+
                                  |
                                  v
                        +---------------------+
                        | Вихід з гри         |
                        +---------------------+
```

## Діаграма класів (Class Diagram)

```
+---------------------+       +---------------------+       +---------------------+
|       Game          |       |       Maze          |       |     GameState       |
+---------------------+       +---------------------+       +---------------------+
| - score: int        |       | - walls: List[Rect] |       | - current_level: int|
| - lives: int        |       | - dots: List[Dot]   |       | - game_over: bool   |
| - level: int        |       | - energizers: List  |       | - paused: bool      |
+---------------------+       | - fruits: List[Fruit|       +---------------------+
| + start_game()      |       +---------------------+              ^
| + update()          |       | + load_level(file)  |              |
| + draw()            |       | + check_collision() |              |
| + handle_input()    |       +---------------------+              |
+---------------------+              ^                      +---------------------+
        |                            |                      |     ScoreManager    |
        |                            |                      +---------------------+
        v                            |                      | - high_score: int   |
+---------------------+       +---------------------+       | + save_score()      |
|      PacMan         |       |       Ghost         |       | + load_score()      |
+---------------------+       +---------------------+       +---------------------+
| - position: Vector2 |       | - position: Vector2 |
| - direction: Vector2|       | - direction: Vector2|
| - speed: float      |       | - speed: float      |
| - next_direction    |       | - state: GhostState |
+---------------------+       +---------------------+
| + move()            |       | + move()            |
| + change_direction()|       | + change_state()    |
| + eat()             |       | + respawn()         |
+---------------------+       +---------------------+
        ^                            ^
        |                            |
+---------------------+       +---------------------+
|       Dot           |       |     Energizer       |
+---------------------+       +---------------------+
| - position: Vector2 |       | - position: Vector2 |
| - points: int = 10  |       | - points: int = 50  |
+---------------------+       +---------------------+

+---------------------+
|       Fruit         |
+---------------------+
| - position: Vector2 |
| - type: FruitType   |
| - points: int       |
+---------------------+
```

### Опис класів:

1. **Game**:
   - Основний клас, що керує ігровим процесом
   - Відповідає за ініціалізацію, оновлення стану та відображення гри
   - Містить посилання на всі основні об'єкти гри

2. **Maze**:
   - Відповідає за лабіринт та його елементи
   - Зберігає позиції стін, крапок, енерджайзерів
   - Забезпечує перевірку колізій

3. **PacMan**:
   - Головний герой гри
   - Відповідає за рух, зміну напрямку, з'їдання об'єктів
   - Зберігає поточну позицію та стан

4. **Ghost**:
   - Базовий клас для привидів
   - Містить логіку руху та зміни станів (переслідування, розсіяний, ляканий)
   - Кожен привид (Blinky, Pinky, Inky, Clyde) може мати додаткову специфічну логіку

5. **Dot/Energizer/Fruit**:
   - Класи ігрових об'єктів, які може збирати PacMan
   - Відрізняються кількістю очок та ефектами

6. **GameState**:
   - Зберігає поточний стан гри (рівень, стан паузи, завершення гри)
   - Керує переходами між станами

7. **ScoreManager**:
   - Відповідає за роботу з очками
   - Зберігає рекорди та поточний рахунок

## Додаткові компоненти

Для повноцінної реалізації знадобляться також:

1. **Система анімації** - для плавного руху персонажів
2. **Менеджер звуків** - для звукових ефектів
3. **Система збереження** - для збереження рекордів
4. **Меню гри** - для старту, паузи, вибору рівнів

Ці діаграми забезпечують основу для реалізації класичної версії PacMan на Python. Конкретна реалізація може відрізнятися залежно від вибраної бібліотеки (Pygame, Arcade, Pyglet тощо).